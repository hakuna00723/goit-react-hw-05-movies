{"version":3,"file":"static/js/10.4d52dd26.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","pages/Movies/Movies.jsx","services/FetchAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieList_item__tDivI\",\"list\":\"MovieList_list__yjDCC\",\"navLink\":\"MovieList_navLink__Y0vr9\"};","import css from './MovieList.module.css';\nimport { NavLink } from 'react-router-dom';\n\nexport const MovieList = ({ movies, location }) => {\n  return (\n    <ul className={css.list}>\n      {movies.map(({ id, title }) => {\n        return (\n          <li key={id} className={css.item}>\n            <NavLink\n              className={css.navLink}\n              to={`/movies/${id}`}\n              state={{ from: location }}\n            >\n              {title}\n            </NavLink>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Searchbar_searchForm__Bt5yh\",\"searchFormInput\":\"Searchbar_searchFormInput__k+juR\",\"searchFormButton\":\"Searchbar_searchFormButton__Y7AQk\"};","import { useState } from 'react';\nimport { MdSearch } from 'react-icons/md';\nimport { Notify } from 'notiflix';\nimport css from './Searchbar.module.css';\nimport { useSearchParams } from 'react-router-dom';\n\nexport const Searchbar = () => {\n  const [query, setQuery] = useState('');\n  const [, setSearchParams] = useSearchParams();\n\n  const handleNameChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (query.trim() === '') {\n      Notify.failure('Enter a query name.');\n      return;\n    }\n    setSearchParams({ query });\n    setQuery('');\n  };\n  return (\n    <form className={css.searchForm} onSubmit={handleSubmit}>\n      <input\n        className={css.searchFormInput}\n        type=\"text\"\n        name=\"name\"\n        value={query}\n        onChange={handleNameChange}\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search films\"\n      />\n      <button className={css.searchFormButton} type=\"submit\">\n        <MdSearch size={25} />\n      </button>\n    </form>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { Searchbar } from '../../components/Searchbar/Searchbar';\nimport { getMovieByQuery } from '../../services/FetchAPI';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { MovieList } from '../../components/MovieList/MovieList';\nimport { Notify } from 'notiflix';\nimport Loader from '../../components/Loader/Loader';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams] = useSearchParams();\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n\n  const searchRequest = searchParams.get('query');\n\n  useEffect(() => {\n    if (!searchRequest) return;\n    setLoading(true);\n    const fetchName = async () => {\n      try {\n        const film = await getMovieByQuery(searchRequest);\n        if (!film.length) {\n          return Notify.failure(\n            'Sorry, there are no films matching your search query. Please try again.'\n          );\n        }\n        setMovies(film);\n      } catch (error) {\n        Notify.failure('Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchName();\n  }, [searchRequest]);\n  return (\n    <>\n      <Searchbar />\n      {loading ? <Loader /> : <MovieList movies={movies} location={location} />}\n    </>\n  );\n};\n\nexport default Movies;\n","//KEY ➡️ 8a1b3ad75f8d6d96df0b528cd3b953bf\n//EXAMPLE ➡️ https://api.themoviedb.org/3/movie/550?api_key=8a1b3ad75f8d6d96df0b528cd3b953bf\n// BASE URL ➡️ https://api.themoviedb.org/3\n\nimport axios from 'axios';\n\nconst key = '8a1b3ad75f8d6d96df0b528cd3b953bf';\nconst URL = `https://api.themoviedb.org/3`;\nconst notFoundImageUrl = 'https://cdn-icons-png.flaticon.com/512/25/25634.png';\nexport const getPopularMovies = async () => {\n  try {\n    const response = await axios.get(\n      `${URL}/trending/movie/day?api_key=${key}&page=${1}`\n    );\n    const { results } = response.data;\n    const films = results.map(film => {\n      const { title, id, overview } = film;\n      return { title, id, overview };\n    });\n    return { films };\n  } catch (error) {\n    console.log(error);\n  }\n};\nconst getPosterSrc = url =>\n  url ? 'https://image.tmdb.org/t/p/w500' + url : notFoundImageUrl;\n\nexport const getMoviesById = async id => {\n  try {\n    const response = await axios.get(`${URL}/movie/${id}?api_key=${key}`);\n    const {\n      poster_path,\n      title,\n      release_date,\n      overview,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n    } = response.data;\n    return {\n      poster_path: getPosterSrc(poster_path),\n      title,\n      release_date,\n      overview,\n      genres:\n        genres &&\n        genres\n          .map(({ name }) => {\n            return name;\n          })\n          .join(' '),\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n    };\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMoviesCast = async id => {\n  try {\n    const { data } = await axios.get(\n      `${URL}/movie/${id}/credits?api_key=${key}`\n    );\n\n    return data.cast.map(({ id, name, character, profile_path }) => ({\n      id,\n      name,\n      character,\n      profile_path: getPosterSrc(profile_path),\n    }));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieByQuery = async query => {\n  try {\n    const { data } = await axios.get(\n      `${URL}/search/movie?api_key=${key}&query=${query}`\n    );\n    return data.results.map(({ id, title }) => ({ id, title }));\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMovieByReviews = async id => {\n  try {\n    const { data } = await axios.get(\n      `${URL}/movie/${id}/reviews?api_key=${key}`\n    );\n    return data.results.map(({ id, author, content }) => ({\n      id,\n      author,\n      content,\n    }));\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"names":["MovieList","movies","location","className","css","map","id","title","to","state","from","Searchbar","useState","query","setQuery","useSearchParams","setSearchParams","onSubmit","event","preventDefault","trim","Notify","type","name","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","size","setMovies","searchParams","useLocation","loading","setLoading","searchRequest","get","useEffect","fetchName","getMovieByQuery","film","length","Loader","key","URL","getPopularMovies","axios","response","results","data","films","overview","console","log","getPosterSrc","url","getMoviesById","poster_path","release_date","genres","vote_average","vote_count","popularity","original_title","join","getMoviesCast","cast","character","profile_path","getMovieByReviews","author","content"],"sourceRoot":""}